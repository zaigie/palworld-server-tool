# FAQ

## windows部署

### panic: config file was found but another error was produced

配置文件里面有错误，仔细对照文档检查配置文件，如果用的是本地存档文件路径，所有的 '\\' 前面再加一个 '\\'，格式类似C:\\\path\\\to\\\your\\\Pal\\\Saved；如果配置文件没错误的话，可能是编码问题，请确保 `config.yaml` 文件为 **ANSI 编码**；如果全都没问题的话，可能有复制进来的不可见字符，建议直接用压缩包里的配置文件修改配置，改成自己的配置后保存使用。

## linux部署

### -bash: ./pst: Permission denied或者-bash: ./pst: 权限不够

pst文件和sav_cli文件没获得执行权限，需要先执行这条命令，执行的过程中需要输入root用户密码。

```
sudo chmod 777 pst sav_cli
```

## docker部署

### 只要我重启docker容器，容器的环境变量就会全部初始化+覆盖掉ini配置文件

适用于1panel的服务器，或者thijsvanloef/palworld-server-docker这个镜像：在docker-compose文件中增加 DISABLE_GENERATE_SETTINGS=true这条环境变量。然后关闭docker，手动修改映射出来的配置文件，再重新启动。

适用于jammsen/palworld-dedicated-server镜像：在docker-compose文件中增加 SERVER_SETTINGS_MODE=<随便什么内容只要不是auto或者rcononly都可以>这条环境变量。然后关闭docker，手动修改映射出来的配置文件，再重新启动。

或者更换kagurazakanyaa/palworld镜像，这个容器只会在初始化的时候根据环境变量生成配置文件。

## 通用

### error copying file to temporary directory: error finding Level.sav

配置文件里存档路径没配对。

### Get "http://127.0.0.1:8212/v1/api/players": dial tcp 127.0.0.1:8212: connect: connection refused

rest api没开或者配置文件里rest api没配对。

### 为什么我修改了配置文件，但是没生效？

修改配置文件需要先关闭服务器，修改完配置文件，然后重启，才能生效。有一部分配置是通过ini配置文件配置的，也有一部分配置是通过sav配置文件配置的，两个配置文件都生效的部分，sav配置文件会覆盖ini配置文件。确保两个配置文件都配置正确并放到正确的位置上。可以通过面板控制中心的配置文件生成器来生成配置文件。

### 为什么我的面板不显示服务器信息

rest api连接失败，检查服务器是否开启rest api，ip地址、端口和密码是否写对（地址是http://开头，username是admin），防火墙是否放通。

### 为什么我的面板不显示在线列表

rcon连接失败，检查服务器是否开启rcon，ip地址、端口和密码是否写对（地址不是http://开头），防火墙是否放通。

### 为什么我改了ini配置文件，rcon和rest api依然不生效

检查配置文件存放的位置，正确的存放位置应该是PalServer/Pal/Saved/Config/LinuxServer/PalWorldSettings.ini，而不是PalServer/DefaultPalWorldSettings.ini

### 为什么我的面板不显示幻兽列表和物品列表

存档解析失败，检查pst是否是最新版本，sav_cli是否有运行权限，存档路径是否正确。

### 为什么我用pst查看玩家和公会，不存在/改名的依然看得到

pst用数据库保存数据，之前查询的时候查到的脏数据还保存在数据库里，删除运行目录下的pst.db重启即可。注意：这样操作会丢失没上线的用户的steamid信息。

### 为什么我使用RCON命令的时候提示Unknown command

使用自定义RCON命令必须先安装PalDefender，并且只能在windows版本或者wine版本里使用（linux需要自行[编译安装UE4SS](https://github.com/UE4SS-RE/RE-UE4SS/issues/364)），具体安装方法请自行查阅[PalDefender](https://github.com/Ultimeit/PalDefender)资料。

### 为什么我在服务器内发消息不显示、告示牌打字不显示

开加速器就好了。帕鲁运行时发消息需要发到外网服务器进行检测，不开加速器连接不上就无法显示。不开加速器也有解决办法，可以自行了解。